<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fire Drill Alert</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#dc3545">
</head>
<body class="bg-light d-flex align-items-center justify-content-center vh-100">

<div class="card p-4 text-center" style="max-width:420px">
<h3>ðŸš¨ Fire Drill Alert</h3>
<p class="text-muted">Install this app and enable notifications.</p>

<button class="btn btn-warning w-100 mb-2" onclick="enableNotifications()">ðŸ”” Enable Alerts</button>
<button class="btn btn-danger w-100" onclick="sampleAlert()">ðŸ”¥ Sample Alert (Foreground)</button>

<div id="log" class="mt-3 small text-muted"></div>
</div>

<script src="firebase-config.js"></script>
<script>
if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("service-worker.js");
}

function sampleAlert(){
  if("vibrate" in navigator){
    navigator.vibrate([1000,500,1000]);
  }
  alert("Sample fire drill (foreground only)");
}

async function enableNotifications(){
  const perm = await Notification.requestPermission();
  if(perm !== "granted"){
    alert("Notification permission required");
    return;
  }
  document.getElementById("log").innerText = "Notifications enabled (connect Firebase next)";
}
</script>
</body>
</html>
